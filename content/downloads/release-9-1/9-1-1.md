---
title: "Release 9.1.1"
date: 19.7.2023
draft: false
package: dCache
version: "9.1.1"
series: ["9.1"]
url_base: "https://www.dcache.org/old/downloads/1.9/repo"
notes: "https://www.dcache.org/old/downloads/1.9/release-notes-9.1.shtml"
packages:
  - type: "rpm"
    filename: dcache-9.1.1-1.noarch.rpm
    checksum: edd4446a6301ed566084801dfb6252a2
  - type: "deb"
    filename: dcache_9.1.1-1_all.deb
    checksum: fc25b9fba3ef6d56227f127d2b453fb5
  - type: "tgz"
    filename: dcache-9.1.1.tar.gz
    checksum: 3afb7752f530d2a71c25c1fd5d14a36a
---

### bulk

RuntimeExceptions should not cause the request ls to fail globally.

### frontend

If the user root contains a symlink, or the target path contains a symlink pertaining
to the user root, some REST calls to /api/v1/namespace and /api/v1/id failed. This is fixed now.

All of the REST GET methods now allow anonymous
users to get the data if the global property
allows it. In the case of NONE, 401 not authorized
is returned at login.

### nfs

A race condition was fixed that let to sending a READ request to a pool when the mover was alreay stopped.

### pnfs

With this version, symlinks are skipped when checking restrictions to speed-up directory listing.

### qos

Two small incompatibilities with subject and attributes are fixed.

The behaviour was changed to not scan all pools on startup or periodic rescanning of all pools outside
the periodic window.

Improvements in triggering QoS operation queues, which reduces the potential for queue starvation.

A bug was fixed that prevented the bulk request to complete.

The error reporting of aborted verification was improved to get a better understanding, what went wrong.

### xrootd

A missing vomsdir is now throwing an exception instead of a stacktrace.

### xrootd4j

Update xrootd4j to a new version, that fixes a byte buffer leak in ZTNCredentialUtils.


### Changelog 9.1.0..9.1.1

<!-- git log 9.1.0..9.1.1 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[7797034d32](https://github.com/dcache/dcache/commit/7797034d32b9521ccabaf37d8621b12045e395ec)
:   [maven-release-plugin] prepare release 9.1.1

[f9c1b058f7](https://github.com/dcache/dcache/commit/f9c1b058f76b0d21d796c2cb00a4cf4d5ed9adf9)
:   nfs: fix race condition of LAYOUTRETURN and LAYOUTGET

[0088606c7b](https://github.com/dcache/dcache/commit/0088606c7b35b48650291534639e75d23da7b86e)
:   xrootd: throw FileNotFoundException if vomsdir doesn't exist

[e955fc02bc](https://github.com/dcache/dcache/commit/e955fc02bcee2472c75b6f651c8d33b604200b84)
:   dcache-qos: fix adjuster task cloning to reset state

[4b6817d723](https://github.com/dcache/dcache/commit/4b6817d72387bfcd067ce7babe042de20f605a0b)
:   dcache-qos:  improve exception reported on aborted verification

[3148d2a72d](https://github.com/dcache/dcache/commit/3148d2a72d577067b3b1002aa371d29498288785)
:   ci: add gitlab-ci.yml

[a6fea9419c](https://github.com/dcache/dcache/commit/a6fea9419cd71726af2648d385de500c83f698d5)
:   dcache-frontend: add symlink resolution to /api/v1/id GET and /api/v1/namespace

[74147a3c4e](https://github.com/dcache/dcache/commit/74147a3c4e97922c4e1d7f13c0fcf1177b0b5f1d)
:   dcache-frontend:  remove authz checks in Quota GET methods

[468a7a9ccb](https://github.com/dcache/dcache/commit/468a7a9ccb630a7c787fe2fdc7b48deba36d1dc6)
:       dcache-qos: remove trigger to rescan pools on tag change

[70b9a4361f](https://github.com/dcache/dcache/commit/70b9a4361feab3aae3149295714dfe790b5f3629)
:   Revert "dcache-qos: remove trigger to rescan pools on tag change"

[d06cf517a3](https://github.com/dcache/dcache/commit/d06cf517a3a22fa8969bbe59f97f9bfe23bd9bac)
:   pom.xml: bump xrootd4j to next version (4.5.7, 4.4.8, 4.3.9, 4.2.13)

[310889c5a5](https://github.com/dcache/dcache/commit/310889c5a5e4fa61616f6f600377ba6dc7e61b0d)
:   dcache-qos: remove trigger to rescan pools on tag change

[7f54a5d52c](https://github.com/dcache/dcache/commit/7f54a5d52ce8ba71b2cc1a0db796c0b875603c49)
:   dcache,pnfs:  skip symlink resolution when checking restrictions on directory children during listing

[fb0acb2965](https://github.com/dcache/dcache/commit/fb0acb29655fad87c1fec925d6bebc1499c2681f)
:   dcache-qos:  repair faulty queue refresh algorithm in verifier

[507f8407bf](https://github.com/dcache/dcache/commit/507f8407bf39a42cb923910218e87b95a60c7267)
:   dcache-qos(verifier,engine): fix incompatibility issues with Subject and attributes

[dba3b07251](https://github.com/dcache/dcache/commit/dba3b07251d47ab87a2ac830fca1805976c5d779)
:   [maven-release-plugin] prepare for next development iteration

[d4b25a5c8f](https://github.com/dcache/dcache/commit/d4b25a5c8f91888266d4d1b5ec3c088a077953b0)
:   dcache-bulk:  catch Exception from getSubject()

